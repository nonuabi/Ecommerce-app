(this["webpackJsonpecommerce-react-app"]=this["webpackJsonpecommerce-react-app"]||[]).push([[0],{39:function(t,e,c){},41:function(t,e,c){},49:function(t,e,c){},50:function(t,e,c){},51:function(t,e,c){"use strict";c.r(e);var n=c(10),a=c(4),r=c(2),s=c(12),i=c(1),o=c(14),d=c.n(o),l=c(19),j="FETCH_POSTS_REQUEST",u="FETCH_POSTS_SUCCESS",b="FETCH_POSTS_FAILURE",p="DELETE_PROUDUCT_FROM_CART",O="DELETE_PRODUCT",f="PRODUCT_INFORMATION",h="ADD_TO_CART",x="POST_PRODUCT_SUCCESS",m="HANDLE_SORT_BUTTON",v="HANDLE_EDIT_POST",N="https://my-json-server.typicode.com/nonuabi/Ecommerce-App-DB/posts",g=function(){return{type:j}},y=function(t){return{type:h,payload:t}},_=function(t){return{type:x,payload:t}},C=c(8),T=(c(39),c(0)),E=function(){var t=Object(C.c)(),e=Object(i.useState)({title:"",description:"",price:0,rating:0}),c=Object(s.a)(e,2),n=c[0],a=c[1];return Object(T.jsxs)("div",{className:"new_product",children:[Object(T.jsx)("h1",{className:"display-4",children:"Add a Product"}),Object(T.jsxs)("div",{className:"form_item",children:[Object(T.jsxs)("div",{className:"form-floating mb-3",children:[Object(T.jsx)("input",{name:"title",type:"text",className:"form-control",id:"floatingInput",placeholder:"Name",onChange:function(t){return a(Object(r.a)(Object(r.a)({},n),{},{title:t.target.value}))},value:n.title}),Object(T.jsx)("label",{"v-for":"floatingInput",children:"Name"})]}),Object(T.jsxs)("div",{className:"form-floating mb-3",children:[Object(T.jsx)("input",{name:"description",value:n.description,type:"text",className:"form-control",id:"floatingPassword",placeholder:"Description",onChange:function(t){return a(Object(r.a)(Object(r.a)({},n),{},{description:t.target.value}))}}),Object(T.jsx)("label",{"v-for":"floatingPassword",children:"Description"})]}),Object(T.jsxs)("div",{className:"form-floating mb-3",children:[Object(T.jsx)("input",{name:"price",value:n.price,type:"number",className:"form-control",id:"floatingPassword",placeholder:"Price",onChange:function(t){return a(Object(r.a)(Object(r.a)({},n),{},{price:t.target.value}))}}),Object(T.jsx)("label",{"v-for":"floatingPassword",children:"Price"})]}),Object(T.jsxs)("div",{className:"form-floating mb-3",children:[Object(T.jsx)("input",{name:"rating",value:n.rating,type:"number",className:"form-control",id:"floatingPassword",placeholder:"Rating",onChange:function(t){return a(Object(r.a)(Object(r.a)({},n),{},{rating:t.target.value}))}}),Object(T.jsx)("label",{"v-for":"floatingPassword",children:"Rating"})]}),Object(T.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",children:Object(T.jsx)("button",{onClick:function(){return t((e=n,function(){var t=Object(l.a)(d.a.mark((function t(c){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(N,{method:"POST",body:JSON.stringify(Object(r.a)({},e)),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return n=t.sent,t.next=5,n.json();case 5:(a=t.sent)&&c(_(a));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e},className:"btn btn-dark",type:"submit",children:"Button"})})]})]})},P=(c(41),Object(C.b)((function(t){return{numOfCartItems:t.cart.length}}))((function(t){var e=t.numOfCartItems;return Object(T.jsxs)("div",{className:"navbar navbar-expand-lg  navbar-dark bg-dark",children:[Object(T.jsxs)("div",{className:"container-fluid",children:[Object(T.jsx)(n.b,{id:"home_link",className:"navbar-brand",to:"/",children:"eCommerce"}),Object(T.jsx)("div",{className:" navbar-collapse",id:"navbarText",children:Object(T.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(T.jsx)("li",{className:"nav-item nav-link active",children:Object(T.jsx)(n.b,{className:"navbar-brand",to:"products",children:"Products"})}),Object(T.jsxs)("li",{className:"nav-item nav-link active",children:[" ",Object(T.jsxs)(n.b,{className:"navbar-brand",to:"/new",children:["Add a Product ",Object(T.jsx)("i",{class:"fas fa-folder-plus"})]})]})]})})]}),Object(T.jsx)("div",{children:Object(T.jsxs)(n.b,{className:"navbar-brand",to:"/cart",children:[Object(T.jsx)("i",{className:"fas fa-cart-plus"}),Object(T.jsx)("span",{children:e})]})})]})}))),k=(c(49),Object(C.b)((function(t){return console.log("product map to state ",t),{postData:t}}),(function(t){return{fetchPost:function(){return t(function(){var t=Object(l.a)(d.a.mark((function t(e){var c,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(g),t.next=3,fetch(N);case 3:return c=t.sent,t.next=6,c.json();case 6:n=t.sent,e(n?{type:u,payload:n}:{type:b,payload:"server error"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},deleteProduct:function(e){return t(function(t){return{type:O,payload:t}}(e))},product_Information:function(e){return t({type:f,payload:e})},addToCart:function(e){return t(y(e))},sort:function(){return t({type:m})},edit:function(e){return t(function(t){return{type:v,payload:t}}(e))}}}))((function(t){var e=t.fetchPost,c=t.postData,a=t.deleteProduct,o=t.product_Information,d=t.addToCart,l=t.sort,j=t.edit,u=Object(i.useState)({value:"Type Here..",isInEditMode:!1,id:-1}),b=Object(s.a)(u,2),p=b[0],O=b[1],f=Object(i.useRef)(null);Object(i.useEffect)((function(){e()}),[c.sort]);var h=function(t){O(Object(r.a)(Object(r.a)({},p),{},{isInEditMode:!p.isInEditMode,id:t}))},x=function(t){j({id:t,value:f.current.value}),f.current&&O(Object(r.a)(Object(r.a)({},p),{},{isInEditMode:!p.isInEditMode,value:f.current.value}))};return c.loading?Object(T.jsx)("h2",{class:"display-1",children:"Loading..."}):c&&c.error?Object(T.jsx)("h2",{children:c.error}):Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"product_header",children:[Object(T.jsx)("h2",{children:"Product List"}),Object(T.jsx)("button",{class:"btn btn-outline-dark",onClick:l,children:"Sort"})]}),Object(T.jsxs)("div",{className:"cart_container",children:[c&&c.posts&&(c.sort?c.posts:c.posts.sort((function(t,e){return t.price-e.price}))).map((function(t){return Object(T.jsx)("div",{className:"card",id:"cart_id",children:Object(T.jsxs)("div",{className:"card-body",children:[p.isInEditMode&&p.id===t.id?Object(T.jsxs)("div",{id:"edit_input_container",class:"input-group flex-nowrap",children:[Object(T.jsx)("input",{class:"form-control",type:"text",defaultValue:t.title,ref:f}),Object(T.jsx)("button",{id:"edit_btn",class:"btn btn-danger",onClick:h,children:"X"}),Object(T.jsx)("button",{id:"edit_btn",class:"btn btn-success",onClick:function(){return x(t.id)},children:"OK"})]}):Object(T.jsxs)("div",{className:"header_container",children:[Object(T.jsx)("h5",{className:"card-title",children:t.title}),Object(T.jsx)("button",{class:"btn btn-outline-primary",onClick:function(){return h(t.id)},children:Object(T.jsx)("i",{class:"fas fa-pencil-alt"})})]}),Object(T.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t.rating}),Object(T.jsx)("p",{className:"card-text",children:t.description}),Object(T.jsxs)("p",{className:"card-text",children:[Object(T.jsx)("i",{className:"fas fa-rupee-sign"}),t.price]}),Object(T.jsxs)("div",{class:"button_container",children:[Object(T.jsx)("button",{class:"btn btn-outline-primary",onClick:function(){return d(t.id)},children:"Add To Cart"}),Object(T.jsx)("button",{class:"btn btn-outline-danger",onClick:function(){return a(t.id)},children:Object(T.jsx)("i",{className:"fas fa-trash"})}),Object(T.jsx)(n.b,{class:"btn btn-outline-info",to:"productInformation",onClick:function(){return o(t.id)},children:"Info"})]})]})},t.id)})),c.new_products.length>0?c.new_products.map((function(t){return Object(T.jsx)("div",{className:"card",children:Object(T.jsxs)("div",{className:"card-body",children:[Object(T.jsx)("button",{onClick:function(){return h(t.id)},children:Object(T.jsx)("i",{class:"fas fa-pencil-alt"})}),p.isInEditMode&&p.id===t.id?Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{type:"text",defaultValue:t.title,ref:f}),Object(T.jsx)("button",{onClick:h,children:"X"}),Object(T.jsx)("button",{onClick:function(){return x(t.id)},children:"OK"})]}):Object(T.jsx)("h5",{className:"card-title",children:t.title}),Object(T.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t.rating}),Object(T.jsx)("p",{className:"card-text",children:t.description}),Object(T.jsxs)("p",{className:"card-text",children:[Object(T.jsx)("i",{className:"fas fa-rupee-sign"}),t.price]}),Object(T.jsx)("button",{onClick:function(){return d(t.id)},children:"Add To Cart"}),Object(T.jsx)("button",{class:"btn btn-danger",onClick:function(){return a(t.id)},children:Object(T.jsx)("i",{className:"fas fa-trash"})}),Object(T.jsx)(n.b,{to:"productInformation",onClick:function(){return o(t.id)},children:"Info"})]})},t.id)})):null]})]})}))),I=Object(C.b)((function(t){return console.log("info mapstate ",t),{product_info:t}}),(function(t){return{addToCart:function(e){return t(y(e))}}}))((function(t){var e=t.product_info,c=t.addToCart,n=Object(i.useState)([]),a=Object(s.a)(n,2),r=a[0],o=a[1];return Object(i.useEffect)((function(){var t=e.posts.filter((function(t){return t.id===e.product_info_id}));o(t)}),[]),Object(T.jsx)("div",{children:r.map((function(t){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h2",{children:"Detailed Information"}),Object(T.jsx)("div",{className:"card",children:Object(T.jsxs)("div",{className:"card-body",children:[Object(T.jsx)("h5",{className:"card-title",children:t.title}),Object(T.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Rating : ",t.rating]}),Object(T.jsx)("p",{className:"card-text",children:t.description}),Object(T.jsx)("p",{className:"card-text",children:t.about}),Object(T.jsxs)("p",{className:"card-text",children:[Object(T.jsx)("i",{className:"fas fa-rupee-sign"}),t.price]}),Object(T.jsx)("button",{onClick:function(){return c(t.id)},children:"Add To Cart"})]})},t.id)]})}))})})),w=c(16),S=c(26),D=c(27),R={product_info_id:0,new_products:[],loading:!1,sort:!0,posts:[],cart:[],error:""},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(r.a)(Object(r.a)({},t),{},{loading:!0,product_info_id:0});case u:return Object(r.a)(Object(r.a)({},t),{},{error:"",loading:!1,product_info_id:0,posts:e.payload});case b:return Object(r.a)(Object(r.a)({},t),{},{posts:[],loading:!1,product_info_id:0,error:e.payload});case O:return alert("want to delete product"),Object(r.a)(Object(r.a)({},t),{},{error:"",loading:!1,product_info_id:0,posts:t.posts.filter((function(t){return t.id!==e.payload}))});case f:return Object(r.a)(Object(r.a)({},t),{},{product_info_id:e.payload});case h:return Object(r.a)(Object(r.a)({},t),{},{posts:t.posts.filter((function(t){return t.id!==e.payload})),cart:t.cart.concat(t.posts.filter((function(t){return t.id===e.payload})))});case p:return Object(r.a)(Object(r.a)({},t),{},{cart:t.cart.filter((function(t){return t.id!==e.payload}))});case x:var c=[{title:e.payload.title,description:e.payload.description,price:e.payload.price,rating:e.payload.rating}];return Object(r.a)(Object(r.a)({},t),{},{new_products:c});case m:return Object(r.a)(Object(r.a)({},t),{},{sort:!t.sort});case v:var n=t.posts.map((function(t){return t.id===e.payload.id?Object(r.a)(Object(r.a)({},t),{},{title:e.payload.value}):t}));return Object(r.a)(Object(r.a)({},t),{},{posts:n});default:return t}},U=Object(w.createStore)(A,Object(S.composeWithDevTools)(Object(w.applyMiddleware)(D.a))),F=c(15),M=c.n(F),L=(c(50),function(){return Object(T.jsx)("div",{className:"App",children:Object(T.jsx)("h1",{class:"display-1",children:"Welcome \ud83d\udc96"})})}),H=Object(C.b)((function(t){return{cart:t.cart}}),(function(t){return{deleteProductFromCart:function(e){return t({type:p,payload:e})}}}))((function(t){var e=t.cart,c=t.deleteProductFromCart;return Object(T.jsxs)("div",{className:"cart_container",children:[Object(T.jsx)("h2",{children:"Cart Items"}),e.map((function(t){return Object(T.jsx)("div",{className:"card",id:"cart_id",children:Object(T.jsxs)("div",{className:"card-body",children:[Object(T.jsx)("h5",{className:"card-title",children:t.title}),Object(T.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t.rating}),Object(T.jsx)("p",{className:"card-text",children:t.description}),Object(T.jsxs)("p",{className:"card-text",children:[Object(T.jsx)("i",{className:"fas fa-rupee-sign"}),t.price]}),Object(T.jsx)("div",{class:"d-grid gap-2 col-6 mx-auto",children:Object(T.jsx)("button",{class:"btn btn-outline-danger",onClick:function(){return c(t.id)},children:Object(T.jsx)("i",{className:"fas fa-trash"})})})]})},t.id)}))]})}));M.a.render(Object(T.jsx)(C.a,{store:U,children:Object(T.jsxs)(n.a,{children:[Object(T.jsx)(P,{}),Object(T.jsxs)(a.c,{children:[Object(T.jsx)(a.a,{exact:!0,path:"/",children:Object(T.jsx)(L,{})}),Object(T.jsx)(a.a,{path:"/products",children:Object(T.jsx)(k,{})}),Object(T.jsx)(a.a,{path:"/new",children:Object(T.jsx)(E,{})}),Object(T.jsx)(a.a,{path:"/productInformation",children:Object(T.jsx)(I,{})}),Object(T.jsx)(a.a,{path:"/cart",children:Object(T.jsx)(H,{})})]})]})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.11f8b956.chunk.js.map